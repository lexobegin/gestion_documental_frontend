<div class="card mb-4">
  <div class="card-header bg-light">
    <h6 class="mb-0">
      <i class="fas fa-filter me-2"></i>Filtros de Bitácora
    </h6>
  </div>
  <div class="card-body">
    <div class="row g-3">
      <!-- Módulo -->
      <div class="col-md-3">
        <label class="form-label small fw-bold">Módulo</label>
        <select 
          class="form-select form-select-sm" 
          [(ngModel)]="filtros.modulo_afectado"
          (ngModelChange)="onFiltroChange()"
        >
          <option value="">Todos los módulos</option>
          <option *ngFor="let modulo of modulos" [value]="modulo.value">
            {{ modulo.label }}
          </option>
        </select>
      </div>

      <!-- Fecha Desde -->
      <div class="col-md-3">
        <label class="form-label small fw-bold">Fecha Desde</label>
        <input
          type="date"
          class="form-control form-control-sm"
          [(ngModel)]="filtros.fecha_desde"
          (ngModelChange)="onFiltroChange()"
        >
      </div>

      <!-- Fecha Hasta -->
      <div class="col-md-3">
        <label class="form-label small fw-bold">Fecha Hasta</label>
        <input
          type="date"
          class="form-control form-control-sm"
          [(ngModel)]="filtros.fecha_hasta"
          (ngModelChange)="onFiltroChange()"
        >
      </div>

      <!-- Botón Limpiar -->
      <div class="col-md-3">
        <label class="form-label small text-muted">Acciones</label>
        <div>
          <button
            class="btn btn-outline-secondary btn-sm"
            (click)="limpiarFiltros()"
            [disabled]="!tieneFiltros"
          >
            <i class="fas fa-times me-1"></i> Limpiar
          </button>
        </div>
      </div>
    </div>

    <!-- Indicador de filtros activos -->
    <div *ngIf="tieneFiltros" class="mt-3">
      <div class="alert alert-info py-2 mb-0">
        <small>
          <i class="fas fa-info-circle me-1"></i>
          Filtros activos: 
          <span *ngIf="filtros.modulo_afectado" class="badge bg-primary me-1">
            Módulo: {{ filtros.modulo_afectado }}
          </span>
          <span *ngIf="filtros.fecha_desde" class="badge bg-success me-1">
            Desde: {{ filtros.fecha_desde }}
          </span>
          <span *ngIf="filtros.fecha_hasta" class="badge bg-warning me-1">
            Hasta: {{ filtros.fecha_hasta }}
          </span>
        </small>
      </div>
    </div>
  </div>
</div>